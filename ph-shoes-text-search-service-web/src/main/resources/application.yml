app:
  cors:
    allowed-origins:
      - "http://localhost:5173"
      - "http://127.0.0.1:5173"
      - "https://www.phshoesproject.com"
      - "https://phshoesproject.com"
    allowed-methods: [GET,POST,PUT,DELETE,OPTIONS]
    allowed-headers: ["*"]
    exposed-headers: []
    allow-credentials: true
    max-age: 3600

server:
  port: ${SERVER_PORT:8084}

spring:
  application:
    name: ph-shoes-text-search-service
  datasource:
    url: jdbc:snowflake://${SNOWFLAKE_ACCOUNT}.snowflakecomputing.com?warehouse=${SNOWFLAKE_WAREHOUSE}&db=${SNOWFLAKE_DATABASE}&schema=${SNOWFLAKE_SCHEMA}&role=${SNOWFLAKE_ROLE}&JDBC_QUERY_RESULT_FORMAT=JSON
    driver-class-name: net.snowflake.client.jdbc.SnowflakeDriver
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}
  jpa:
    hibernate:
      ddl-auto: none
    database-platform: com.nimbly.phshoesbackend.catalog.core.configs.dialect.SnowflakeDialect
    properties:
      hibernate:
        dialect: com.nimbly.phshoesbackend.catalog.core.configs.dialect.SnowflakeDialect
  main:
    allow-bean-definition-overriding: false

logging:
  level:
    root: INFO

services:
  common:
    migrations:
      index-ops-enabled: false

schema:
  migrations:
    enabled: false

phshoes:
  status:
    enabled: true
    path: /api/v1/system/status
    service-id: text-search
    display-name: Text Search Service
    environment: ${APP_ENV:local}
    version: ${APP_VERSION:local}
    description: Handles text search queries across catalog data.
  api:
    rate-limit:
      enabled: true
      default-window: 24h
      global:
        enabled: true
        limit: 5000
      per-ip:
        enabled: true
        limit: 300
  security:
    email:
      enabled: false
    jwt:
      enabled: false
